# handle base options
PRG ?=gwion
CC ?=gcc
YACC ?=yacc
LEX ?=flex
PREFIX ?=/usr/local
SOUNDPIPE_LIB ?=-lsoundpipe
SOUNDPIPE_INC ?=
LDFLAGS += -lm -ldl -rdynamic -lpthread
CFLAGS += -Iinclude -std=c99 -O3 -mfpmath=sse -mtune=native -fno-strict-aliasing -D_GNU_SOURCE
# complier warnings
CFLAGS += -Wall -Wextra -pedantic


#CFLAGS += -Og

#CFLAGS += -fno-signed-zeros -ffinite-math-only -fno-trapping-math -fno-sanitize=all
#LDFLAGS += -fno-signed-zeros -ffinite-math-only -fno-trapping-math -fno-sanitize=all
#CFLAGS += -Ofast -flto -ffast-math -msse3 -mssse3 -msse4 -mavx
#LDFLAGS += -Ofast -flto -ffast-math -msse3 -mssse3 -msse4 -mavx

# handle boolean options
USE_DOUBLE    = 0
USE_COVERAGE ?= 0
USE_GWCOV    ?= 0
USE_MEMCHECK ?= 0
USE_GWCGRAPH ?= 0
USE_GWREPL   ?= 0
USE_GWUDP    ?= 0
USE_GWMPOOL  ?= 0
USE_OPTIMIZE ?= 0
USE_OBSTACK  ?= 0
USE_COLOR    ?= 0

# handle definitions
D_FUNC       ?= dummy_driver

# base plugin directories
GWPLUG_DIR   ?= $(shell echo ~/.gwplug)

# handle libraries
DUMMY_D      ?= 1
SILENT_D     ?= 0
SPA_D        ?= 0
SNDFILE_D    ?= 1
ALSA_D       ?= 0
JACK_D       ?= 0
PORTAUDIO_D  ?= 0
SOUNDIO_D    ?= 0
PULSE_D      ?= 0
PLOT_D       ?= 0
SLES_D       ?= 0

DEBUG_STACK  ?= 0
